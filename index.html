<!DOCTYPE html>
<html lang="es-mx">
  <head>
    <meta charset="UTF-8" />
    <title>Parques Temáticos Mundial</title>
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
      integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="
      crossorigin=""
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
    <link rel="stylesheet" href="./style.css" />
  </head>

  <body>
    <div id="main">
      <div class="user-profile">
        <div class="user-avatar">
          <i class="fas fa-user"></i>
        </div>
        <div class="user-info">
          <div class="user-name">Bienvenido, Usuario</div>
          <div class="logout-btn">Cerrar sesión</div>
        </div>
      </div>
      <div id="sidebar">
        <div class="header">
          <div>
            <div class="logo">
              <div class="logo-icon">
                <img
                  src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZGVmcz4KICAgIDxsaW5lYXJHcmFkaWVudCBpZD0iZ2xvYmVHcmFkaWVudCIgeDE9IjAlIiB5MT0iMCUiIHgyPSIxMDAlIiB5Mj0iMTAwJSI+CiAgICAgIDxzdG9wIG9mZnNldD0iMCUiIHN0b3AtY29sb3I9IiNmNTllMGIiIC8+CiAgICAgIDxzdG9wIG9mZnNldD0iNDAlIiBzdG9wLWNvbG9yPSIjZjU5ZTBiIiAvPgogICAgICA8c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9IiNmOTdkMTYiIC8+CiAgICA8L2xpbmVhckdyYWRpZW50PgogIDwvZGVmcz4KICA8ZyBmaWxsPSJ1cmwoI2dsb2JlR3JhZGllbnQpIj4KICAgIDxjaXJjbGUgY3g9IjUwIiBjeT0iNTAiIHI9IjQwIiBmaWxsPSJub25lIiBzdHJva2U9InVybCgjZ2xvYmVHcmFkaWVudCkiIHN0cm9rZS13aWR0aD0iMiIgLz4KICAgIDxwYXRoIGQ9Ik01MCwxMCBBNDAsNDAgMCwwLDEgOTAsMTAgTDUwLDUwIFoiIGZpbGwtb3BhY2l0eT0iMC41IiAvPgogICAgPHBhdGggZD0iTTEwLDUwIEE0MCw0MCAwLDAsMSA1MCwxMCBMNTAsNTAgWiIgZmlsbC1vcGFjaXR5PSIwLjciIC8+CiAgICA8cGF0aCBkPSJNNTAsOTAgQTQwLDQwIDAsMCwxIDEwLDUwIEw1MCw1MCBaIiBmaWxsLW9wYWNpdHk9IjAuNSIgLz4KICAgIDxwYXRoIGQ9Ik05MCwxMCBBNDAsNDAgMCwwLDEgNTAsOTAgTDUwLDUwIFoiIGZpbGwtb3BhY2l0eT0iMC43IiAvPgogIDwvZz4KPC9zdmc+Cg=="
                  alt="Parques Temáticos Mundial"
                />
              </div>
              <span>Parques Temáticos Mundial</span>
            </div>
            <div class="nav-tabs">
              <div class="nav-tab" data-tab="parques">PARQUES</div>
              <div class="nav-tab active" data-tab="atracciones">
                ATRACCIONES
              </div>
              <div class="nav-tab" data-tab="analisis">ANALISIS</div>
            </div>
          </div>
        </div>
        <div class="sidebar-content" id="atraccionesContent">
          <div class="sidebar-title">Atracciones Populares</div>

          <ul id="pointsList">
            <div class="point-item">
              <li class="point-item">
                <input type="checkbox" />
                <div class="country-code">PT</div>
                <div class="point-item-content">
                  <div class="point-name">Lisboa</div>
                  <div class="point-date">Octubre 31, 2024</div>
                </div>
                <div class="remove-btn">×</div>
              </li>
            </div>
          </ul>
        </div>
        <div
          class="sidebar-content"
          id="parquesContent"
          style="display: none"
          data-tab--zonas
        >
          <div class="sidebar-title">Parques temáticos</div>
          <ul id="polygonList">
            <li class="polygon-item">
              <input type="checkbox" />
              <span class="polygon-name">Polígono 1</span>
              <div class="remove-btn">×</div>
            </li>
          </ul>
        </div>
        <div class="sidebar-content" id="analisisContent" style="display: none">
          <div class="sidebar-title">Análisis Espacial</div>

          <div class="sidebar-control-group">
            <div class="control-content">
              <div class="control-label flex-group">
                <p>Buffer desde puntos</p>
                <div class="control-icon">
                  <i class="fas fa-circle-notch"></i>
                </div>
              </div>
              <div class="control-input">
                <label>Radio (km):</label>
                <input
                  id="bufferRadius"
                  type="number"
                  value="2"
                  min="0.1"
                  max="100"
                  step="0.1"
                />
              </div>
              <button class="operation-btn" id="btnCrearBuffer">
                Crear Buffer
              </button>
              <button class="operation-btn" id="btnLimpiarBuffer">
                Limpiar Buffer
              </button>
            </div>
          </div>

          <div class="sidebar-control-group">
            <div class="control-content">
              <div class="control-label flex-group">
                <p>Medición de distancias</p>
                <div class="control-icon"><i class="fas fa-ruler"></i></div>
              </div>
              <div id="distanceResult" class="result-box">
                Selecciona dos puntos en el mapa
              </div>
              <button class="operation-btn" id="btnMedirDistancia">
                Iniciar Medición
              </button>
              <button class="operation-btn" id="btnLimpiarMedicion">
                Limpiar Medición
              </button>
            </div>
          </div>

          <div class="sidebar-control-group">
            <div class="control-content">
              <div class="control-label flex-group">
                <p>Agrupación (Clustering)</p>
                <div class="control-icon">
                  <i class="fas fa-object-group"></i>
                </div>
              </div>
              <div class="control-input">
                <label>Distancia máxima (km):</label>
                <input
                  id="clusterDistance"
                  type="number"
                  value="5"
                  min="0.1"
                  max="100"
                  step="0.1"
                />
              </div>
              <button class="operation-btn" id="btnCrearClusters">
                Crear Clusters
              </button>
              <button class="operation-btn" id="btnLimpiarClusters">
                Limpiar Clusters
              </button>
            </div>
          </div>

          <div class="sidebar-control-group">
            <div class="control-content">
              <div class="control-label flex-group">
                <p>Conteo en zonas</p>
                <div class="control-icon">
                  <i class="fas fa-calculator"></i>
                </div>
              </div>
              <div id="countResult" class="result-box">
                Selecciona un polígono para contar entidades
              </div>
              <button class="operation-btn" id="btnContarEntidades">
                Contar Entidades
              </button>
            </div>
          </div>

          <div class="sidebar-control-group">
            <div class="control-content">
              <div class="control-label flex-group">
                <p>Cálculo de centroides</p>
                <div class="control-icon">
                  <i class="fas fa-crosshairs"></i>
                </div>
              </div>
              <button class="operation-btn" id="btnCalcularCentroides">
                Calcular Centroides
              </button>
              <button class="operation-btn" id="btnLimpiarCentroides">
                Limpiar Centroides
              </button>
            </div>
          </div>

          <div class="sidebar-control-group">
            <div class="control-content">
              <div class="control-label flex-group">
                <p>Vecinos cercanos</p>
                <div class="control-icon">
                  <i class="fas fa-street-view"></i>
                </div>
              </div>
              <div class="control-input">
                <label>Radio de búsqueda (km):</label>
                <input
                  id="vecinosRadius"
                  type="number"
                  value="10"
                  min="0.1"
                  max="100"
                  step="0.1"
                />
              </div>
              <button class="operation-btn" id="btnBuscarVecinos">
                Buscar Vecinos
              </button>
              <button class="operation-btn" id="btnLimpiarVecinos">
                Limpiar Resultados
              </button>
            </div>
          </div>
          <div class="sidebar-control-group">
            <div class="control-content">
              <div class="control-label flex-group">
                <p>Intersección de polígonos</p>
                <div class="control-icon">
                  <i class="fas fa-object-ungroup"></i>
                </div>
              </div>
              <div id="intersectionResult" class="result-box">
                Selecciona dos o más polígonos para encontrar su intersección
              </div>
              <button class="operation-btn" id="btnCalcularInterseccion">
                Calcular Intersección
              </button>
              <button class="operation-btn" id="btnLimpiarInterseccion">
                Limpiar Intersección
              </button>
            </div>
          </div>
          <div class="sidebar-control-group">
            <div class="control-content">
              <button
                class="operation-btn wide-btn"
                id="btnLimpiarTodoAnalisis"
              >
                Limpiar Todos los Análisis
              </button>
            </div>
          </div>
        </div>
      </div>
      <div id="map"></div>

      <div class="map-controls">
        <div class="map-control-btn" id="zoomIn">+</div>
        <div class="map-control-btn" id="zoomOut">−</div>
      </div>

      <div class="use-position-button">USE SU POSICIÓN</div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/osmtogeojson@3.0.0-beta.5/osmtogeojson.min.js"></script>
    <script
      src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
      integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="
      crossorigin=""
    ></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.draw/1.0.4/leaflet.draw.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.geometryutil/0.9.3/leaflet.geometryutil.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@turf/turf@6/turf.min.js"></script>
    <script src="./script.js"></script>
    <script src="./turf.js"></script>
  </body>
</html>
